plugins {
  id 'java'
  id 'io.freefair.lombok' version '5.1.1'
}

group = 'tk.wangkexiong'
version = '1.0-SNAPSHOT'

repositories {
  mavenCentral()
}

dependencies {
  implementation(
    'ch.qos.logback:logback-classic:1.3.8',
  )
}

jar {
  manifest.attributes(
    'class-path': configurations.runtimeClasspath.filter { it.isFile() }.files.name.join(' '),
    'main-class': 'tk.wangkexiong.AsyncJobExample'
  )
}

tasks.register('copyDep', Copy) {
  from configurations.runtimeClasspath
  into "$buildDir/libs"
}
jar.dependsOn(copyDep)
